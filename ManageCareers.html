<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Bombshell Dashboard</title>
    <!-- Make it stylish now -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.2/css/materialize.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.css" rel="stylesheet">
    <link rel="stylesheet" href="css/BombshellDashboard.css">
    <!-- Adobe Type Kit -->
    <script src="https://use.typekit.net/mhf2njr.js"></script>
    <script>try{Typekit.load({ async: true });}catch(e){}</script>
  </head>
  <body>
    <div id="preloader">
      <div class="spinner">
         <div class="double-bounce1"></div>
         <div class="double-bounce2"></div>
      </div>
    </div>

  <!-- header begin -->
  <nav style="background-color:#1f1f1f" role="navigation">
  <div class="nav-wrapper container">
    <a id="logo-container" href="index.html" class="brand-logo" style="padding-top:15px" ><img style='height:150px' src="http://files.parsetfss.com/69cc1ebe-f693-4f84-ae97-93438bf7ac31/tfss-0ed7deb8-14c3-4540-bc9a-2312f00a1e3a-bombshellupdateed.jpg"></a>
    <ul class="right hide-on-med-and-down ">
      <li><a class='bombshellpink dropdown-button' data-beloworigin="true" data-constrainwidth="false" data-hover='true' href="#" data-activates='dropdown1'> Locations</a></li>
      <li><a class='bombshellpink dropdown-button' data-beloworigin="true" data-constrainwidth="false" data-hover='true' href="#" data-activates='dropdown2'> Services</a></li>
      <li><a class='bombshellpink dropdown-button' data-beloworigin="true" data-constrainwidth="false" data-hover='true' href="#" data-activates='dropdown3'> Specials</a></li>
      <li><a class='bombshellpink dropdown-button' data-beloworigin="true" data-constrainwidth="false" data-hover='true' href="#" data-activates='dropdown4'> Careers</a></li>


    </ul>
    <ul id='dropdown1' class='dropdown-content bombshellpink' >
      <li><a class="bombshellpink" href="AddLocation.html" style="color:#26424F">Add New</a></li>
      <li><a class="bombshellpink" href="ManageLocations.html" style="color:#26424F">View / Edit</a></li>
    </ul>
    <ul id='dropdown2' class='dropdown-content bombshellpink' >
      <li><a class="bombshellpink" href="AddServices.html" style="color:#26424F">Add New</a></li>
      <li><a class="bombshellpink" href="ManageService.html" style="color:#26424F">View / Edit</a></li>
      <li><a class="bombshellpink" href="SelectServiceLocation.html" style="color:#26424F">Service Menus</a></li>
    </ul>
    <ul id='dropdown3' class='dropdown-content bombshellpink' >
      <li><a class="bombshellpink" href="AddSpecials.html" style="color:#26424F">Add New</a></li>
      <li><a class="bombshellpink" href="ManageSpecials.html" style="color:#26424F">View / Edit</a></li>

    </ul>
    <ul id='dropdown4' class='dropdown-content bombshellpink' >
      <li><a class="bombshellpink" href="AddCareer.html" style="color:#26424F">Add New</a></li>
      <li><a class="bombshellpink" href="ManageCareers.html" style="color:#26424F">View / Edit</a></li>
    </ul>


    <ul id="nav-mobile" class="side-nav ">
      <li><a class="bombshellpink" href="AddLocation.html" style="color:#26424F">Add Location</a></li>
      <li><a class="bombshellpink" href="ManageLocations.html" style="color:#26424F">Manage Locations</a></li>
      <li><a class="bombshellpink" href="AddServices.html" style="color:#26424F">Add Service</a></li>
      <li><a class="bombshellpink" href="ManageService.html" style="color:#26424F">Edit Services</a></li>
      <li><a class="bombshellpink" href="SelectServiceLocation.html" style="color:#26424F">Service Menus</a></li>
      <li><a class="bombshellpink" href="AddSpecials.html" style="color:#26424F">Add Specials</a></li>
      <li><a class="bombshellpink" href="ManageSpecials.html" style="color:#26424F">Manage Specials</a></li>
      <li><a class="bombshellpink" href="AddCareer.html" style="color:#26424F">Add Career</a></li>
      <li><a class="bombshellpink" href="ManageCareers.html" style="color:#26424F">Manage Careers</a></li>Career
    </ul>
    <a href="#" data-activates="nav-mobile" class="button-collapse "><i class="material-icons pink-text">menu</i></a>
  </div>
</nav>
  <!-- end header --->

  <div class="row" style="margin-top:7%">
    <Br>
      <Br>
    <h1 class="bombshellHeading center-align" style="margin-bottom:0px">MANAGE CAREERS</h1>
    <div class="col s6 offset-s3 left-align">

        <ul id="careerUL" class="collection with-header">


       </ul>



    </div>
  </div>







  <!-- All da' JavaScriptzz -->
  <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
  <script src="//www.parsecdn.com/js/parse-1.6.7.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.2/js/materialize.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert-dev.js"></script>
  <script src="js/BombshellDashboard.js"></script>

  <script>

  $(document).ready(function(){
    //Load Locations
    Parse.initialize("6lwXuEam4Zl0heDrMSPQtRx2xcaLM792aRNjw1gF", "hvatZD2xQvA6mmL77SDQsc9T6kqrqLo8PbUmDswC");

    var Services = Parse.Object.extend("Careers");
    var query = new Parse.Query(Services);
    query.ascending('createdAt');
    query.find({
      success: function(results) {

        // Do something with the returned Parse.Object values
        for (var i = 0; i < results.length; i++) {
          var object = results[i];

          var listItem = "<li  data-title='"+ object.get('Title') +"'  data-careerID="+ object.id +" class='collection-item'>"+ object.get('Title') + ' @' + object.get('Location') + "<span class='right'><a  data-careerID="+ object.id +" class='pink-text delete' href='#'><i class='fa fa-close'></i> Remove</a></span>" +"</li>"
          $(listItem).appendTo("#careerUL");

        }
      },
      error: function(error) {
        console.log("Error: " + error.code + " " + error.message);
      }
    });


    $("#careerUL").delegate(".delete","click",function(){
      var careerID = $(this).attr("data-careerID");

      swal({   title: "Are you sure?",
               text: "You will not be able to undo this action.",
               type: "warning",
               showCancelButton: true,
               confirmButtonColor: "#e91e63",
               confirmButtonText: "Yes, delete it!",
               closeOnConfirm: false
             },
               function(){



                 var Career = Parse.Object.extend("Careers");
                 var career = new Career();
                 career.id = careerID;
                 career.destroy({
                   success: function(career) {
                     // The object was deleted from the Parse Cloud.
                     swal({
                       confirmButtonColor: "#009688",
                       title: "Career Removed!",
                       text: "Career successfully removed from this location.",
                       type: "success",
                       showCancelButton:false,
                       confirmButtonColor:"#e91e63",
                       confirmButtonText:"Cool",
                       closeOnConfirm: false
                     },
                     function(){
                       window.location.reload();
                     });
                   },
                   error: function(career, error) {
                     // The delete failed.
                     // error is a Parse.Error with an error code and message.
                     swal("Uh oh!", error.message, "error")
                   }
                 });



                });
              })

  }) //end document ready function

  </script>
  <script>


    $(window).load(function(){
    $('#preloader').fadeOut('slow',function(){$(this).remove();});



    });


  </script>

  </body>
</html>
